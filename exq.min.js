(function(e,t){var n={commands:{},data:{},persistedParams:{},validState:function(){return r.isString(n.data._x)&&n.data._x.length>0}};n.push=function(){var e=r.slice.call(arguments);while(e.length>0){var t=e.shift();if(!r.isArray(t))continue;var i=t&&t[0];if(i&&n.commands[i]){var s=n.commands[i];s.apply(n,r.slice.call(t,1))}}};var r;(function(){var e=Object.prototype.toString,t=(new Date).getTime();r={slice:[].slice,isArray:function(t){return e.call(t)==="[object Array]"},isString:function(t){return e.call(t)==="[object String]"},isSendable:function(e){return r.isString(e)||typeof e=="number"},extend:function(){var e=arguments[0],t=r.slice.call(arguments,1);for(var n=0,i=t.length;n<i;n++){var s=t[n]||{};for(var o in s)s.hasOwnProperty(o)&&(e[o]=s[o])}return e},uniq:function(){return t++}}})();var i;(function(e,t){"use strict";i=function(e,t,n){return arguments.length===1?i.get(e):i.set(e,t,n)},i.get=function(t){return e.cookie!==i._cacheString&&i._populateCache(),i._cache[t]},i.defaults={path:"/"},i.set=function(n,r,s){s={path:s&&s.path||i.defaults.path,domain:s&&s.domain||i.defaults.domain,expires:s&&s.expires||i.defaults.expires,secure:s&&s.secure!==t?s.secure:i.defaults.secure},r===t&&(s.expires=-1);switch(typeof s.expires){case"number":s.expires=new Date((new Date).getTime()+s.expires*1e3);break;case"string":s.expires=new Date(s.expires)}var o=encodeURIComponent(n)+"="+(r+"").replace(/[^!#-+\--:<-\[\]-~]/g,encodeURIComponent);return o+=s.path?";path="+s.path:"",o+=s.domain?";domain="+s.domain:"",o+=s.expires?";expires="+s.expires.toGMTString():"",o+=s.secure?";secure":"",e.cookie=o,i},i.expire=function(e,n){return i.set(e,t,n)},i._populateCache=function(){i._cache={},i._cacheString=e.cookie;var n=i._cacheString.split("; ");for(var r=0;r<n.length;r++){var s=n[r].indexOf("="),o=decodeURIComponent(n[r].substr(0,s)),u=decodeURIComponent(n[r].substr(s+1));i._cache[o]===t&&(i._cache[o]=u)}},i.enabled=function(){var e=i.set("cookies.js","1").get("cookies.js")==="1";return i.expire("cookies.js"),e}()})(document);var s={trackingUrl:"trk.exacaster.com/e?"};(function(){function e(e,n){var r=window.location.protocol==="http:"?"http:":"https:";return r+"//"+s.trackingUrl+t(e,n)}function t(e,t){e=r.extend({},!1===t.appendPersisted?null:n.persistedParams,e,n.data,{_p:n.identity.get()}),e.__=r.uniq();var i="";for(var s in e)e.hasOwnProperty(s)&&r.isSendable(e[s])&&(i+=(i?"&":"")+encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return i}n.send=function(t,n){n=n||{};var r=e(t,n),i=document.createElement("img");i.src=r,n.onSent&&(i.onLoad=i.onError=n.onSent)}})(),n.uuid=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(){var t=new Array(36),n=0,r;for(var i=0;i<36;i++)i===8||i===13||i===18||i===23?t[i]="-":i===14?t[i]="4":(n<=2&&(n=33554432+Math.random()*16777216|0),r=n&15,n>>=4,t[i]=e[i===19?r&3|8:r]);return t.join("")}}(),n.identity=function(){var e="__exq_uniq1",t=31536e3,r={get:function(){return r.identified()?n.data._p:r.getUniq()||r.makeUniq()},identified:function(){return n.data._p!=null},getUniq:function(){return i.get(e)},makeUniq:function(){var r=n.uuid();return i.set(e,r,{expires:t}),r},removeUniq:function(){i.expire(e)}};return r}(),n.commands.alias=function(e,t){var r={_cmd:"alias",alias:e,name:t};n.send(r,{appendPersisted:!1})},n.commands.identify=function(e){n.data._p=e;var t=n.identity.getUniq();t&&(n.commands.alias(t,e),n.identity.removeUniq())},n.commands.record=function(e,t){if(!n.validState())throw new Error("Can not add a record without setting the API key");t=t||{},t._n=e,n.send(t)},n.commands.set=function(e){for(var t in e)e.hasOwnProperty(t)&&r.isSendable(e[t])&&(n.persistedParams[t]=e[t])},n.commands.setKey=function(e){n.data._x=e},n.commands.setTrackingUrl=function(e){s.trackingUrl=e},e._exq={push:n.push},t&&r.isArray(t)&&n.push.apply(n,t)})(window,window._exq);
